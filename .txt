pip install graphene-django
pip install langchain
pip install django langchain openai langchain-community langchainhub
pip install PyPDF2
pip install python-docx

.\.venv\Scripts\activate
python -m celery -A rag_project worker --loglevel=info

 python manage.py build_faiss_index
python manage.py shell
from rag_app.tasks import retrieve_and_respond_task
retrieve_and_respond_task.delay("Ø´Ù†ÙˆÙ‘Ø© Ø§Ù„ÙØ§ÙŠØ¯Ø© Ù…Ù† Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ø¬ÙŠÙ…ØŸ")



pip install celery redis faiss-cpu sentence-transformers //celery
PS C:\Users\lotfi\OneDrive\Bureau\sesam2\python\django_projects\rag_project> pip install celery redis
PS C:\Users\lotfi\OneDrive\Bureau\sesam2\python\django_projects\rag_project> pip install faiss-cpu   
ollama run mistral


http://localhost:8000/api/create-session/
http://localhost:8000/api/documents/
http://localhost:8000/graphql/#query=
http://localhost:8000/api/chat/1/
http://localhost:8000/api/generate-embeddings/1/




http://127.0.0.1:8000/chat-sessions/
http://127.0.0.1:8000/chat




##################################
POST /api/create-session/
Content-Type: application/json

{
  "document": 1
}
{
    "session_id": "547d3f49-bdcf-41fa-8961-723e97249702"
    
}
#################################




##########################33
http://127.0.0.1:8000/api/chat/547d3f49-bdcf-41fa-8961-723e97249702/


{
  "question": "Ù…Ø§ Ù…Ø¹Ù†Ù‰ RAGØŸ"
}

{
    "answer": "RÃ©ponse gÃ©nÃ©rÃ©e pour: Ù…Ø§ Ù…Ø¹Ù†Ù‰ RAGØŸ"
}
############################











from rag_app.tasks import analyze_employees_task

text = """
Jean Dupont, DÃ©veloppeur Backend, 3500
Marie Curie, Analyste DonnÃ©es, 4200
Ahmed Benali, Responsable IT, 5100
Sophie Martin, RH, 3100
Lucas Dubois, DÃ©veloppeur Frontend, 3700
Nadia El Amrani, Chef de projet, 4800
Mohamed Yassine, Technicien support, 2800
Julie Robert, Comptable, 3300
"""

result = analyze_employees_task.delay(text)
print("Task sent, waiting for result...")

# Ø§Ù†ØªØ¸Ø± Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ù‡Ù…Ø© (ÙŠÙ…ÙƒÙ† ØªØ£Ø®ÙŠØ± Ø­Ø³Ø¨ ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ù…Ù‡Ù…Ø©)
print(result.get(timeout=10))




ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ù…Ø°ÙƒÙˆØ±ÙŠÙ†ØŸ
â†’ Combien d'employÃ©s sont mentionnÃ©s ?

Ù…Ø§ Ù‡Ùˆ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø±ÙˆØ§ØªØ¨ØŸ
â†’ Quelle est la moyenne des salaires ?

Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ø°ÙŠ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø¹Ù„Ù‰ Ø±Ø§ØªØ¨ØŸ
â†’ Quel est l'employÃ© avec le salaire le plus Ã©levÃ© ?

Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ø°ÙŠ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ Ø£Ø¯Ù†Ù‰ Ø±Ø§ØªØ¨ØŸ
â†’ Quel est l'employÃ© avec le salaire le plus bas ?

Ù…Ø§ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ† (DÃ©veloppeurs)ØŸ
â†’ Combien y a-t-il de dÃ©veloppeurs ?

Ù…Ø§ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©ØŸ
â†’ Quelles sont les diffÃ©rentes fonctions prÃ©sentes dans la liste ?

Ù…Ø§ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø±ÙˆØ§ØªØ¨ØŸ
â†’ Quel est le total des salaires ?


â†’ Y a-t-il un manager dans la liste ?

Ù‡Ù„ ÙŠØ¹Ù…Ù„ Ø£Ø­Ø¯ ÙÙŠ Ù‚Ø³Ù… Ø§Ù„ØªØ³ÙˆÙŠÙ‚ØŸ
â†’ Quelqu'un travaille-t-il dans le dÃ©partement marketing ?

ğŸ§  Questions Intelligentes (RequÃªtant une analyse)
â†’ Quels sont les employÃ©s qui gagnent plus de 8000 ?

â†’ Le salaire le plus Ã©levÃ© est-il le double du plus bas ?

â†’ Y a-t-il plus d'un dÃ©veloppeur ?

Ù…Ø§ Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ© Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ† Ù…Ù† Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†ØŸ
â†’ Quel est le pourcentage de dÃ©veloppeurs parmi l'effectif total ?

